// å®šä¹‰æ’ä»¶åå­—
pluginName = "ä¾‹5-é¢æ¿æ•°æ®å±•ç¤º";
// å®šä¹‰ä½œè€…åç§°
pluginAuthor = "å…»ğŸ¦ˆçš„é«˜å“¥";
// å®šä¹‰æè¿°
pluginDescription = "ä¸€ä¸ªä¾‹å­æ’ä»¶, æ•™ä½ æ€ä¹ˆå°†æ•°æ®æ˜¾ç¤ºåˆ°æŸ¥çœ‹é¢æ¿";

// é¢æ¿æ˜¾ç¤ºé’©å­å‡½æ•°
// ä¼šåœ¨æ¯æ¬¡æ˜¾ç¤ºé¢æ¿æ—¶è°ƒç”¨
// refreshæ˜¯ä¸ªå‡½æ•°, å½“æ•°æ®å‡†å¤‡å¥½äº†ä¹‹åéœ€è¦è°ƒç”¨refreshä¼ é€’æ•°æ®å»æ›´æ–°é¡µé¢
onPanelShow = async function (refresh) {
  // é¢æ¿éœ€è¦è¦ä¼ é€’ä¸¤ä¸ªæ•°æ®

  // ç¬¬ä¸€ä¸ª è®¾ç½®è¡¨å†…å®¹æ•°æ®
  // æ ¼å¼ä¸ºå¯¹è±¡çš„æ•°ç»„ å¯¹è±¡å†…å­—æ®µåæ²¡æœ‰é™åˆ¶
  const tableData = [
    { id: 1, name: "è¥¿ç“œ", num: 10 },
    { id: 2, name: "é’›çŸ¿", num: 20 },
    { id: 3, name: "è¿·äººè—¤", num: 30 },
  ];
  // ç¬¬äºŒä¸ª è®¾ç½®æ˜¾ç¤ºåˆ—
  // æ ¼å¼å›ºå®šä¸º  name: åˆ—åç§°  key: ä½¿ç”¨ä¸Šé¢è¡¨æ•°æ®çš„å“ªä¸ªå­—æ®µå
  const columnData = [
    { name: "é“å…·ID", key: "id" },
    { name: "é“å…·åç§°", key: "name" },
    { name: "é“å…·æ•°é‡", key: "num" },
  ];

  refresh(tableData, columnData);

  // è¿”å›æ“ä½œåç§°ä»¥åŠå¯¹åº”çš„å¤„ç†å‡½æ•°å³å¯
  return {
    å‡ºå”®: function (data) {
      // data æ˜¯ç©å®¶åœ¨tableDataä¸­é€‰æ‹©çš„ä¸€æ¡æ•°æ®
      shark.logger.log(`é€‰æ‹©å‡ºå”®[${data.name}x1]`);
      if (data.num >= 1) {
        data.num--;
      }
    },
    å…‘æ¢: function (data) {
      shark.logger.log(`é€‰æ‹©å…‘æ¢[${data.name}x2]`);
      if (data.num >= 2) {
        data.num -= 2;
      }
    },
  };
};
